<h2 mat-dialog-title>
  <mat-icon>cloud_upload</mat-icon>
  Upload Files
</h2>

<mat-dialog-content>
  <div class="upload-dialog-content">
    <!-- File list section -->
    <div class="files-section">
      <div class="section-header">
        <h3>Selected Files ({{ files.length }})</h3>
        <span class="total-size">Total: {{ formatFileSize(totalSize) }}</span>
      </div>

      <mat-list class="files-list">
        @for(file of files; track $index) {
          <mat-list-item class="file-item">
            <mat-icon matListItemIcon [class.file-icon]="true">
              {{ getFileIcon(file) }}
            </mat-icon>
            <div matListItemTitle class="file-name">{{ file.name }}</div>
            <div matListItemLine class="file-size">{{ formatFileSize(file.size) }}</div>
            <button mat-icon-button
                    matListItemMeta
                    (click)="removeFile($index)"
                    matTooltip="Remove file"
                    aria-label="Remove file">
              <mat-icon>close</mat-icon>
            </button>
          </mat-list-item>
        }
      </mat-list>
    </div>

    <!-- Options section -->
    <div class="options-section">
      <mat-checkbox [(ngModel)]="allowDuplicates">
        Allow duplicate file names
      </mat-checkbox>
    </div>

    <div class="info-note">
      <mat-icon>info</mat-icon>
      <p>You can add metadata to uploaded files after upload using the properties panel</p>
    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button
          color="primary"
          [disabled]="!canUpload"
          (click)="onUpload()">
    <mat-icon>upload</mat-icon>
    Upload {{ files.length }} {{ files.length === 1 ? 'File' : 'Files' }}
  </button>
</mat-dialog-actions>
